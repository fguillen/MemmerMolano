<div class="video_extras">
  <h2>Extra Videos</h2>
  <p>
    <a href="#video_form" class="btn" data-toggle="modal" id="btn_new_extra_video">Add New Extra Video</a>
    <div id="video_popup_new">
      <%= render :partial => "/admin/videos/form", :locals => { :performance => performance } %>
    </div>
  </p>

  <div class="list">
  </div>
</div>

<script type="text/template" id="video_template">
  <div id="video_extra_{{id}}">
    <div class="thumbnail">
      <div class="handle"><i class="icon-th-list"></i></div>
      <img src="{{pic_url}}" />
      <div class="caption">
        <a href="{{video_url}}" target="_blank">See the Video</a>
        <h3 class="video_extra_title">{{title}}</h3>
        <p>{{text}}</p>
        <p>
          <a href="#video_form_{{id}}" class="update btn" data-toggle="modal">Update</a>
          <a href="#delete" class="delete btn btn-danger">Remove</a>
        </p>
      </div>
    </div>

    <div id="video_popup_{{id}}">
      <%= render :partial => "/admin/videos/form", :locals => { :performance => performance } %>
    </div>
  </div>
</script>

<script>
  $(function(){
    new VideoExtrasApp({
      url: "<%= admin_performance_videos_path(performance) %>",
      listElement: $(".video_extras .list"),
      videoFormElement: $("#video_form"),
      videoTemplate: $("#video_template").html()
    });
  });
</script>